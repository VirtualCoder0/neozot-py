<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>neozot</title>
        <script type="text/javascript" src="eel.js"></script>
        <script src="https://unpkg.com/alpinejs" defer></script>
        <link rel="stylesheet" href="style.css">
        <script>
            async function load_suggestions() {
                let suggested_items = await eel.get_arxiv_suggestions()();
                return suggested_items;
            }
        </script>
    </head>
    <body x-data style="background-color: whitesmoke;">
        <header>
            <div class="title">neozot</div>
        </header>
        <div
            x-cloak
            x-data="{suggested_items: [], 'isLoading': true}"
            x-init="load_suggestions()
                .then(results => { suggested_items = results; isLoading = false;})"
            style="max-width:80%; margin: 6em auto;"
        >
            <div x-show="isLoading" id="loader"></div>
            <template x-for="item in suggested_items">
                <div x-data="item" class="card">
                    <div class="card-title">
                        <a x-bind:href="link" target="_blank">
                            <h3 x-text="title"></h3>
                        </a>
                    </div>
                    <div class="card-creators">
                        <template x-for="creator in creators">
                            <p x-text="creator" class="creator"></p>
                        </template>
                    </div>
                    <div class="card-text">
                        <div x-text="abstractNote"></div>
                    </div>
                    <div class="card-related">
                        <p x-text="related.title" style="font-weight: bolder;"></p>
                        <div x-text="related.abstractNote"></div>
                        <p>Score = <em x-text="score"></em></p>
                    </div>
                </div>
            </template>
        </div>

    </body>
</html>
